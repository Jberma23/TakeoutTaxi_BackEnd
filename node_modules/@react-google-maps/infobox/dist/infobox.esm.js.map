{"version":3,"file":"infobox.esm.js","sources":["../src/InfoBox.tsx"],"sourcesContent":["/* eslint-disable filenames/match-regex */\n/* globals google */\nimport { InfoBoxOptions } from './types'\n\nexport class InfoBox {\n  content: string | Node;\n  disableAutoPan: boolean;\n  maxWidth: number;\n  pixelOffset: google.maps.Size;\n  position: google.maps.LatLng;\n  zIndex: number | undefined | null;\n  boxClass: string;\n  boxStyle: {\n    [key: string]: any;\n  };\n  closeBoxMargin: string;\n  closeBoxURL: string;\n  infoBoxClearance: google.maps.Size;\n  isHidden: boolean;\n  alignBottom: boolean;\n  pane: string;\n  enableEventPropagation: boolean;\n  div: HTMLDivElement | null;\n  closeListener: google.maps.MapsEventListener | null;\n  moveListener: google.maps.MapsEventListener | null;\n  mapListener: google.maps.MapsEventListener | null;\n  contextListener: google.maps.MapsEventListener | null;\n  eventListeners: google.maps.MapsEventListener[] | null;\n  fixedWidthSet: boolean | null;\n\n  constructor(options: InfoBoxOptions = {}) {\n    this.extend(InfoBox, google.maps.OverlayView)\n\n    // Standard options (in common with google.maps.InfoWindow):\n    this.content = options.content || \"\"\n    this.disableAutoPan = options.disableAutoPan || false\n    this.maxWidth = options.maxWidth || 0\n    this.pixelOffset = options.pixelOffset || new google.maps.Size(0, 0)\n    this.position = options.position || new google.maps.LatLng(0, 0)\n    this.zIndex = options.zIndex || null\n\n    // Additional options (unique to InfoBox):\n    this.boxClass = options.boxClass || \"infoBox\"\n    this.boxStyle = options.boxStyle || {}\n    this.closeBoxMargin = options.closeBoxMargin || \"2px\"\n    this.closeBoxURL = options.closeBoxURL || \"http://www.google.com/intl/en_us/mapfiles/close.gif\"\n    if (options.closeBoxURL === \"\") {\n      this.closeBoxURL = \"\"\n    }\n    this.infoBoxClearance = options.infoBoxClearance || new google.maps.Size(1, 1)\n\n    if (typeof options.visible === \"undefined\") {\n      if (typeof options.isHidden === \"undefined\") {\n        options.visible = true\n      } else {\n        options.visible = !options.isHidden\n      }\n    }\n    this.isHidden = !options.visible\n\n    this.alignBottom = options.alignBottom || false\n    this.pane = options.pane || \"floatPane\"\n    this.enableEventPropagation = options.enableEventPropagation || false\n\n    this.div = null\n    this.closeListener = null\n    this.moveListener = null\n    this.mapListener = null\n    this.contextListener = null\n    this.eventListeners = null\n    this.fixedWidthSet = null\n  }\n\n  createInfoBoxDiv(): void {\n    // This handler prevents an event in the InfoBox from being passed on to the map.\n    function cancelHandler (event: Event) {\n      event.cancelBubble = true\n      if (event.stopPropagation) {\n        event.stopPropagation()\n      }\n    }\n\n    // This handler ignores the current event in the InfoBox and conditionally prevents\n    // the event from being passed on to the map. It is used for the contextmenu event.\n    // eslint-disable-next-line  @getify/proper-arrows/this\n    const ignoreHandler = (event: Event) => {\n      event.returnValue = false\n\n      if (event.preventDefault) {\n        event.preventDefault()\n      }\n\n      if (!this.enableEventPropagation) {\n        cancelHandler(event)\n      }\n    }\n\n    if (!this.div) {\n      this.div = document.createElement(\"div\")\n      this.setBoxStyle()\n\n      if (typeof this.content === \"string\") {\n        this.div.innerHTML = this.getCloseBoxImg() + this.content\n      } else {\n        this.div.innerHTML = this.getCloseBoxImg()\n        this.div.appendChild(this.content)\n      }\n\n      // @ts-ignore\n      const panes = this.getPanes()\n      panes[this.pane].appendChild(this.div) // Add the InfoBox div to the DOM\n\n      this.addClickHandler()\n\n      if (this.div.style.width) {\n        this.fixedWidthSet = true\n      } else {\n        if (this.maxWidth !== 0 && this.div.offsetWidth > this.maxWidth) {\n          this.div.style.width = this.maxWidth + \"px\"\n          this.fixedWidthSet = true\n        } else {\n          // The following code is needed to overcome problems with MSIE\n          const bw = this.getBoxWidths()\n          this.div.style.width = (this.div.offsetWidth - bw.left - bw.right) + \"px\"\n          this.fixedWidthSet = false\n        }\n      }\n\n      this.panBox(this.disableAutoPan)\n\n      if (!this.enableEventPropagation) {\n        this.eventListeners = []\n\n        // Cancel event propagation.\n        // Note: mousemove not included (to resolve Issue 152)\n        const events = [\n          \"mousedown\",\n          \"mouseover\",\n          \"mouseout\",\n          \"mouseup\",\n          \"click\",\n          \"dblclick\",\n          \"touchstart\",\n          \"touchend\",\n          \"touchmove\",\n        ]\n\n        for (let i = 0; i < events.length; i++) {\n          this.eventListeners.push(\n            google.maps.event.addDomListener(this.div, events[i], cancelHandler)\n          )\n        }\n\n        // Workaround for Google bug that causes the cursor to change to a pointer\n        // when the mouse moves over a marker underneath InfoBox.\n        this.eventListeners.push(\n          google.maps.event.addDomListener(\n            this.div,\n            \"mouseover\",\n            // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n            () => {\n              if (this.div) {\n                this.div.style.cursor = \"default\"\n              }\n            }\n          )\n        )\n      }\n\n      this.contextListener = google.maps.event.addDomListener(this.div, \"contextmenu\", ignoreHandler)\n\n      /**\n       * This event is fired when the DIV containing the InfoBox's content is attached to the DOM.\n       * @name InfoBox#domready\n       * @event\n       */\n      google.maps.event.trigger(this, \"domready\")\n    }\n  };\n\n  getCloseBoxImg(): string {\n    let img = \"\"\n\n    if (this.closeBoxURL !== \"\") {\n      img  = \"<img\"\n      img += \" src='\" + this.closeBoxURL + \"'\"\n      img += \" align=right\" // Do this because Opera chokes on style='float: right;'\n      img += \" style='\"\n      img += \" position: relative;\" // Required by MSIE\n      img += \" cursor: pointer;\"\n      img += \" margin: \" + this.closeBoxMargin + \";\"\n      img += \"'>\"\n    }\n\n    return img\n  };\n\n  addClickHandler(): void {\n    if (this.div && this.div.firstChild && this.closeBoxURL !== \"\") {\n      const closeBox = this.div.firstChild\n      this.closeListener = google.maps.event.addDomListener(closeBox, \"click\", this.getCloseClickHandler())\n    } else {\n      this.closeListener = null\n    }\n  }\n\n  getCloseClickHandler() {\n    // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n    return (event: Event) => {\n      // 1.0.3 fix: Always prevent propagation of a close box click to the map:\n      event.cancelBubble = true\n\n      if (event.stopPropagation) {\n        event.stopPropagation()\n      }\n\n      /**\n       * This event is fired when the InfoBox's close box is clicked.\n       * @name InfoBox#closeclick\n       * @event\n       */\n      google.maps.event.trigger(this, \"closeclick\")\n\n      this.close()\n    }\n  };\n\n  panBox(disablePan?: boolean): void {\n    if (this.div && !disablePan) {\n      // @ts-ignore\n      const map: google.maps.Map | google.maps.StreetViewPanorama | null | undefined = this.getMap()\n\n      // Only pan if attached to map, not panorama\n      if (map instanceof google.maps.Map) {\n        let xOffset = 0\n        let yOffset = 0\n\n        const bounds = map.getBounds()\n        if (bounds && !bounds.contains(this.position)) {\n          // Marker not in visible area of map, so set center\n          // of map to the marker position first.\n          map.setCenter(this.position)\n        }\n\n        const mapDiv = map.getDiv()\n        // @ts-ignore\n        const mapWidth = mapDiv.offsetWidth\n        // @ts-ignore\n        const mapHeight = mapDiv.offsetHeight\n        const iwOffsetX = this.pixelOffset.width\n        const iwOffsetY = this.pixelOffset.height\n        const iwWidth = this.div.offsetWidth\n        const iwHeight = this.div.offsetHeight\n        const padX = this.infoBoxClearance.width\n        const padY = this.infoBoxClearance.height\n\n        // @ts-ignore\n        const projection: google.maps.MapCanvasProjection = this.getProjection()\n        const pixPosition = projection.fromLatLngToContainerPixel(this.position)\n\n        if (pixPosition.x < (-iwOffsetX + padX)) {\n          xOffset = pixPosition.x + iwOffsetX - padX\n        } else if ((pixPosition.x + iwWidth + iwOffsetX + padX) > mapWidth) {\n          xOffset = pixPosition.x + iwWidth + iwOffsetX + padX - mapWidth\n        }\n        if (this.alignBottom) {\n          if (pixPosition.y < (-iwOffsetY + padY + iwHeight)) {\n            yOffset = pixPosition.y + iwOffsetY - padY - iwHeight\n          } else if ((pixPosition.y + iwOffsetY + padY) > mapHeight) {\n            yOffset = pixPosition.y + iwOffsetY + padY - mapHeight\n          }\n        } else {\n          if (pixPosition.y < (-iwOffsetY + padY)) {\n            yOffset = pixPosition.y + iwOffsetY - padY\n          } else if ((pixPosition.y + iwHeight + iwOffsetY + padY) > mapHeight) {\n            yOffset = pixPosition.y + iwHeight + iwOffsetY + padY - mapHeight\n          }\n        }\n\n        if (!(xOffset === 0 && yOffset === 0)) {\n          // Move the map to the shifted center.\n          map.panBy(xOffset, yOffset)\n        }\n      }\n    }\n  };\n\n  setBoxStyle(): void  {\n    if (this.div) {\n      // Apply style values from the style sheet defined in the boxClass parameter:\n      this.div.className = this.boxClass\n\n      // Clear existing inline style values:\n      this.div.style.cssText = \"\"\n\n      // Apply style values defined in the boxStyle parameter:\n      const boxStyle = this.boxStyle\n      for (const i in boxStyle) {\n        if (boxStyle.hasOwnProperty(i)) {\n          // @ts-ignore\n          this.div.style[i] = boxStyle[i]\n        }\n      }\n\n      // Fix for iOS disappearing InfoBox problem\n      // See http://stackoverflow.com/questions/9229535/google-maps-markers-disappear-at-certain-zoom-level-only-on-iphone-ipad\n      this.div.style.webkitTransform = \"translateZ(0)\"\n\n      // Fix up opacity style for benefit of MSIE\n      if (typeof this.div.style.opacity !== \"undefined\" && this.div.style.opacity !== \"\") {\n        // See http://www.quirksmode.org/css/opacity.html\n        const opacity = parseFloat(this.div.style.opacity || '')\n\n        // @ts-ignore\n        this.div.style.msFilter = \"\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=\" + (opacity * 100) + \")\\\"\"\n        this.div.style.filter = \"alpha(opacity=\" + (opacity * 100) + \")\"\n      }\n\n      // Apply required styles\n      this.div.style.position = \"absolute\"\n      this.div.style.visibility = 'hidden'\n      if (this.zIndex !== null) {\n        this.div.style.zIndex = this.zIndex + \"\"\n      }\n      if (!this.div.style.overflow) {\n        this.div.style.overflow = \"auto\"\n      }\n    }\n  };\n\n  getBoxWidths(): { bottom: number; left: number; right: number; top: number } {\n    const bw = {top: 0, bottom: 0, left: 0, right: 0}\n\n    if (!this.div) {\n      return bw\n    }\n\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n      const ownerDocument = this.div.ownerDocument\n      const computedStyle = ownerDocument && ownerDocument.defaultView\n        ? ownerDocument.defaultView.getComputedStyle(this.div, \"\")\n        : null\n\n      if (computedStyle) {\n        // The computed styles are always in pixel units (good!)\n        bw.top = parseInt(computedStyle.borderTopWidth || \"\", 10) || 0\n        bw.bottom = parseInt(computedStyle.borderBottomWidth || \"\", 10) || 0\n        bw.left = parseInt(computedStyle.borderLeftWidth || \"\", 10) || 0\n        bw.right = parseInt(computedStyle.borderRightWidth || \"\", 10) || 0\n      }\n    } else if (\n      // @ts-ignore\n      document.documentElement.currentStyle // MSIE\n    ) {\n      // @ts-ignore\n      const currentStyle = this.div.currentStyle\n      if (currentStyle) {\n        // The current styles may not be in pixel units, but assume they are (bad!)\n        bw.top = parseInt(currentStyle.borderTopWidth || \"\", 10) || 0\n        bw.bottom = parseInt(currentStyle.borderBottomWidth || \"\", 10) || 0\n        bw.left = parseInt(currentStyle.borderLeftWidth || \"\", 10) || 0\n        bw.right = parseInt(currentStyle.borderRightWidth || \"\", 10) || 0\n      }\n    }\n\n    return bw\n  };\n\n  onRemove(): void {\n    if (this.div && this.div.parentNode) {\n      this.div.parentNode.removeChild(this.div)\n      this.div = null\n    }\n  };\n\n  draw(): void {\n    this.createInfoBoxDiv()\n\n    if (this.div) {\n      // @ts-ignore\n      const projection: google.maps.MapCanvasProjection = this.getProjection()\n      const pixPosition = projection.fromLatLngToDivPixel(this.position)\n\n      this.div.style.left = (pixPosition.x + this.pixelOffset.width) + \"px\"\n\n      if (this.alignBottom) {\n        this.div.style.bottom = -(pixPosition.y + this.pixelOffset.height) + \"px\"\n      } else {\n        this.div.style.top = (pixPosition.y + this.pixelOffset.height) + \"px\"\n      }\n\n      if (this.isHidden) {\n        this.div.style.visibility = \"hidden\"\n      } else {\n        this.div.style.visibility = \"visible\"\n      }\n    }\n  };\n\n  setOptions(options: InfoBoxOptions = {}): void {\n    if (typeof options.boxClass !== \"undefined\") { // Must be first\n      this.boxClass = options.boxClass\n      this.setBoxStyle()\n    }\n    if (typeof options.boxStyle !== \"undefined\") { // Must be second\n      this.boxStyle = options.boxStyle\n      this.setBoxStyle()\n    }\n    if (typeof options.content !== \"undefined\") {\n      this.setContent(options.content)\n    }\n    if (typeof options.disableAutoPan !== \"undefined\") {\n      this.disableAutoPan = options.disableAutoPan\n    }\n    if (typeof options.maxWidth !== \"undefined\") {\n      this.maxWidth = options.maxWidth\n    }\n    if (typeof options.pixelOffset !== \"undefined\") {\n      this.pixelOffset = options.pixelOffset\n    }\n    if (typeof options.alignBottom !== \"undefined\") {\n      this.alignBottom = options.alignBottom\n    }\n    if (typeof options.position !== \"undefined\") {\n      this.setPosition(options.position)\n    }\n    if (typeof options.zIndex !== \"undefined\") {\n      this.setZIndex(options.zIndex)\n    }\n    if (typeof options.closeBoxMargin !== \"undefined\") {\n      this.closeBoxMargin = options.closeBoxMargin\n    }\n    if (typeof options.closeBoxURL !== \"undefined\") {\n      this.closeBoxURL = options.closeBoxURL\n    }\n    if (typeof options.infoBoxClearance !== \"undefined\") {\n      this.infoBoxClearance = options.infoBoxClearance\n    }\n    if (typeof options.isHidden !== \"undefined\") {\n      this.isHidden = options.isHidden\n    }\n    if (typeof options.visible !== \"undefined\") {\n      this.isHidden = !options.visible\n    }\n    if (typeof options.enableEventPropagation !== \"undefined\") {\n      this.enableEventPropagation = options.enableEventPropagation\n    }\n\n    if (this.div) {\n      this.draw()\n    }\n  };\n\n  setContent(content: string | Node): void {\n    this.content = content\n\n    if (this.div) {\n      if (this.closeListener) {\n        google.maps.event.removeListener(this.closeListener)\n        this.closeListener = null\n      }\n\n      // Odd code required to make things work with MSIE.\n      if (!this.fixedWidthSet) {\n        this.div.style.width = \"\"\n      }\n\n      if (typeof content === \"string\") {\n        this.div.innerHTML = this.getCloseBoxImg() + content\n      } else {\n        this.div.innerHTML = this.getCloseBoxImg()\n        this.div.appendChild(content)\n      }\n\n      // Perverse code required to make things work with MSIE.\n      // (Ensures the close box does, in fact, float to the right.)\n      if (!this.fixedWidthSet) {\n        this.div.style.width = this.div.offsetWidth + \"px\"\n        if (typeof content === \"string\") {\n          this.div.innerHTML = this.getCloseBoxImg() + content\n        } else {\n          this.div.innerHTML = this.getCloseBoxImg()\n          this.div.appendChild(content)\n        }\n      }\n\n      this.addClickHandler()\n    }\n\n    /**\n     * This event is fired when the content of the InfoBox changes.\n     * @name InfoBox#content_changed\n     * @event\n     */\n    google.maps.event.trigger(this, \"content_changed\")\n  };\n\n  setPosition(latLng: google.maps.LatLng): void  {\n    this.position = latLng\n\n    if (this.div) {\n      this.draw()\n    }\n\n    /**\n     * This event is fired when the position of the InfoBox changes.\n     * @name InfoBox#position_changed\n     * @event\n     */\n    google.maps.event.trigger(this, \"position_changed\")\n  };\n\n  setVisible(isVisible: boolean): void {\n    this.isHidden = !isVisible\n    if (this.div) {\n      this.div.style.visibility = (this.isHidden ? \"hidden\" : \"visible\")\n    }\n  };\n\n  setZIndex(index: number): void {\n    this.zIndex = index\n\n    if (this.div) {\n      this.div.style.zIndex = index + \"\"\n    }\n\n    /**\n     * This event is fired when the zIndex of the InfoBox changes.\n     * @name InfoBox#zindex_changed\n     * @event\n     */\n    google.maps.event.trigger(this, \"zindex_changed\")\n  };\n\n  getContent(): string | Node {\n    return this.content\n  }\n\n  getPosition(): google.maps.LatLng {\n    return this.position\n  };\n\n  getZIndex(): number | null | undefined {\n    return this.zIndex\n  };\n\n  getVisible(): boolean {\n    // @ts-ignore\n    const map: google.maps.Map | google.maps.StreetViewPanorama | null | undefined = this.getMap()\n    let isVisible\n\n    if ((typeof map === \"undefined\") || (map === null)) {\n      isVisible = false\n    } else {\n      isVisible = !this.isHidden\n    }\n\n    return isVisible\n  };\n\n  show(): void {\n    this.isHidden = false\n    if (this.div) {\n      this.div.style.visibility = \"visible\"\n    }\n  }\n\n  hide(): void {\n    this.isHidden = true\n    if (this.div) {\n      this.div.style.visibility = \"hidden\"\n    }\n  }\n\n  open(map: google.maps.Map | google.maps.StreetViewPanorama, anchor?: google.maps.MVCObject): void {\n    if (anchor) {\n      // @ts-ignore\n      this.position = anchor.getPosition()\n      this.moveListener = google.maps.event.addListener(\n        anchor,\n        \"position_changed\",\n        // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n        () => {\n          // @ts-ignore\n          const position = anchor.getPosition()\n          this.setPosition(position)\n        }\n      )\n\n      this.mapListener = google.maps.event.addListener(\n        anchor,\n        \"map_changed\",\n        // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n        () => {\n          // @ts-ignore\n          this.setMap(anchor.map)\n        }\n      )\n    }\n\n    // @ts-ignore\n    this.setMap(map)\n\n    if (this.div) {\n      this.panBox()\n    }\n  }\n\n  close() {\n    if (this.closeListener) {\n      google.maps.event.removeListener(this.closeListener)\n      this.closeListener = null\n    }\n\n    if (this.eventListeners) {\n      for (let i = 0; i < this.eventListeners.length; i++) {\n        google.maps.event.removeListener(this.eventListeners[i])\n      }\n      this.eventListeners = null\n    }\n\n    if (this.moveListener) {\n      google.maps.event.removeListener(this.moveListener)\n      this.moveListener = null\n    }\n\n    if (this.mapListener) {\n      google.maps.event.removeListener(this.mapListener)\n      this.mapListener = null\n    }\n\n    if (this.contextListener) {\n      google.maps.event.removeListener(this.contextListener)\n      this.contextListener = null\n    }\n\n    // @ts-ignore\n    this.setMap(null)\n  }\n\n  extend(obj1: any, obj2: any): any {\n    return (function applyExtend(object: any) {\n      // eslint-disable-next-line guard-for-in\n      for (const property in object.prototype) {\n        // @ts-ignore\n        this.prototype[property] = object.prototype[property]\n      }\n\n      // @ts-ignore\n      return this\n    }).apply(obj1, [obj2])\n  }\n}\n"],"names":["InfoBox","options","extend","google","maps","OverlayView","content","disableAutoPan","maxWidth","pixelOffset","Size","position","LatLng","zIndex","boxClass","boxStyle","closeBoxMargin","closeBoxURL","infoBoxClearance","visible","isHidden","alignBottom","pane","enableEventPropagation","div","closeListener","moveListener","mapListener","contextListener","eventListeners","fixedWidthSet","createInfoBoxDiv","cancelHandler","event","cancelBubble","stopPropagation","ignoreHandler","returnValue","preventDefault","document","createElement","setBoxStyle","innerHTML","getCloseBoxImg","appendChild","panes","getPanes","addClickHandler","style","width","offsetWidth","bw","getBoxWidths","left","right","panBox","events","i","length","push","addDomListener","cursor","trigger","img","firstChild","closeBox","getCloseClickHandler","close","disablePan","map","getMap","Map","xOffset","yOffset","bounds","getBounds","contains","setCenter","mapDiv","getDiv","mapWidth","mapHeight","offsetHeight","iwOffsetX","iwOffsetY","height","iwWidth","iwHeight","padX","padY","projection","getProjection","pixPosition","fromLatLngToContainerPixel","x","y","panBy","className","cssText","hasOwnProperty","webkitTransform","opacity","parseFloat","msFilter","filter","visibility","overflow","top","bottom","defaultView","getComputedStyle","ownerDocument","computedStyle","parseInt","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","documentElement","currentStyle","onRemove","parentNode","removeChild","draw","fromLatLngToDivPixel","setOptions","setContent","setPosition","setZIndex","removeListener","latLng","setVisible","isVisible","index","getContent","getPosition","getZIndex","getVisible","show","hide","open","anchor","addListener","setMap","obj1","obj2","applyExtend","object","property","prototype","apply"],"mappings":"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"}